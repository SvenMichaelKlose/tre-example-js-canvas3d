(var *x* 0)                                                                                               
(var *y* 0)
(var *z* 180)

(fn whirl (obj)
  (do-wait 10
    (update-canvas)
    (clear-canvas *ctx*)
    (render-object3d obj *x* *y* *z* 0 0 80)
    (++! *x*)
    (++! *y*)
    (++! *z*)
    (whirl obj)))

(fn start-site ()
  (document-extend)
  (= document.body.style.margin 0)
  (disable-scrollbars)
  (= *texture* (make-video :width 640 :height 480 :webm "video.mp4" :loop? t :autoplay? t))
  (document.body.add *texture*)
  (*texture*.hide)
  (= *texture*.muted t)
  (!= (make-object3d-from-vertices-and-faces *vertices* *faces*)
    (native-add-event-listener *texture* "play" #'(() (whirl !)))))

(add-onload #'start-site)
